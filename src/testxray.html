<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contact - David Dasa</title>
  <!-- CSS file goes here -->
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <!-- Navigation Section -->
  <nav>
    <ul>
      <li class="logo"><a href="https://www.daviddasa.com"><img src="https://github.com/Naijaoracle/static_web_app/blob/main/src/DD_logo.png?raw=true" alt="Logo" width="50" height="50"></a></li>
      <li class="home-link"><a href="https://www.daviddasa.com/">Home</a></li>
      <li><a href="https://www.daviddasa.com/about">About</a></li>
      <li><a href="https://www.daviddasa.com/projects">Projects</a></li>
      <li><a href="https://www.daviddasa.com/skills">Skills</a></li>
      <li><a href="#contact">Contact</a></li>
    </ul>
  </nav>

  <div class="container">
    <h1>Upload your x-ray image file for testing</h1>
    <!-- Body -->
    <section id="contact">
    <p>Upload below.</p>
    <p>Note! This is not to be used for clinical use or for use in any production environment.</p>
    <p>Please get in touch if you have any enquiries: <a href="https://www.linkedin.com/in/daviddasa">LinkedIn | David Dasa</a></p>
    <form id="imageUploadForm" action="https://daviddasa.azurewebsites.net/api/httptrigger1" method="post" enctype="multipart/form-data">
        <input type="file" name="imageFile" accept=".jpg,.jpeg,.png,.gif"> <!-- Only image files -->
        <input type="submit" value="Upload">
    </form>
    <script>
        window.addEventListener('DOMContentLoaded', (event) => {
          // Get the form element
          const form = document.getElementById('imageUploadForm');
    
          // Add event listener to form submission
          form.addEventListener('submit', async (e) => {
            e.preventDefault(); // Prevent default form submission behavior
    
            // Create a FormData object to handle file upload
            const formData = new FormData(form);
    
            // Send the form data to the server using fetch API
            try {
              const response = await fetch('https://daviddasa.azurewebsites.net/api/httptrigger1', {
                method: 'POST',
                body: formData
              });
    
              if (response.ok) {
                // If the response is successful, display a success message
                alert('Image uploaded successfully!');
                // You can also redirect the user to another page or perform other actions
              } else {
                // If there's an error, display an error message
                alert('Failed to upload image. Please try again.');
              }
            } catch (error) {
              console.error('Error:', error);
              alert('An error occurred. Please try again later.');
            }
          });
        });
      </script>
    <!-- Additional information or messages can be added here -->
    </section>
  </div>

  <!-- Footer Section -->
  <footer>
    <p>&copy; 2023 David Dasa</p>
  </footer>
</body>
</html>